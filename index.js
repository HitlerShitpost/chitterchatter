"use strict";var _regenerator=require("babel-runtime/regenerator");var _regenerator2=_interopRequireDefault(_regenerator);var _asyncToGenerator2=require("babel-runtime/helpers/asyncToGenerator");var _asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);var _Constants=require("./dist/Constants");var _BotClient=require("./dist/bot/struct/BotClient");var _BotClient2=_interopRequireDefault(_BotClient);var _config=require("./data/config.json");var _phrases=require("./data/phrases.json");var _phrases2=_interopRequireDefault(_phrases);var _nodecppTest=require("nodecpp-test");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TT,c,go,i,ref,ref1,results;TT=function(){results=[];for(var i=ref=_config.MSGTIMEOUT[0],ref1=_config.MSGTIMEOUT[1];ref<=ref1?i<=ref1:i>=ref1;ref<=ref1?i++:i--){results.push(i)}return results}.apply(undefined);c=new _BotClient2.default;c._login(_config.TOKEN).then((0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(_Constants.L.d().replace(/{}/,c.user.tag));global.cc=c.channels.get(_config.CHANNELID);if(!cc){console.log(_Constants.MCID.d());process.exit(1)}_context.next=5;return go();case 5:return _context.abrupt("return",_context.sent);case 6:case"end":return _context.stop()}}},_callee,this)}))).catch(function(){return console.log("Bad token")});go=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var err,p;return _regenerator2.default.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:p=_nodecppTest.arrays.sample(_phrases2.default);_context2.prev=1;_context2.next=4;return cc.send(p);case 4:return _context2.abrupt("return",setTimeout(go,_nodecppTest.arrays.sample(TT)));case 7:_context2.prev=7;_context2.t0=_context2["catch"](1);err=_context2.t0;console.log(_Constants.MCID.d());return _context2.abrupt("return",setTimeout(go,_nodecppTest.arrays.sample(TT)));case 12:case"end":return _context2.stop()}}},_callee2,this,[[1,7]])}));return function go(){return _ref2.apply(this,arguments)}}();